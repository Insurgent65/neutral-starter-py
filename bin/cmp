#!/bin/bash
# Wrapper script for cmp.py that activates the virtual environment

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(dirname "$SCRIPT_DIR")"
VENV_PATH="$PROJECT_ROOT/.venv"

# Check if venv exists
if [ ! -d "$VENV_PATH" ]; then
    echo "Error: Virtual environment not found at $VENV_PATH" >&2
    exit 1
fi

# Activate venv and run the Python script
. "$VENV_PATH/bin/activate" && exec python "$SCRIPT_DIR/cmp.py" "$@"
